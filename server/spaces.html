<!DOCTYPE html>
<html>
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      <title>Об использовании нестандартных пробелов</title>
      <link href="files/style.css" rel="stylesheet">
      <script src="files/jquery-2.1.0.min.js" type="text/javascript"></script>
      <script src="files/main.js"></script>
</head>

<body>
<div id="header">Справочник по DSL</div>
<div id="main">
<h1>Об использовании нестандартных пробелов</h1>
<p>В таблице символов Unicode имеется несколько видов нестандартных пробелов. Эти пробелы могут применяться для форматирования текста словарей такими способами, которые невозможно реализовать стандартными средствами DSL. Перечислим наиболее распространённые примеры:</p>
<ul>
  <li>создание <abbr title="пустые строки">отбивок</abbr> между абзацами;</li>
  <li>создание <abbr title="отступ слева первой строки абзаца">красных строк</abbr>;</li>
  <li>эффект разрядки между буквами в словах.</li>
</ul>
<p>Сымитировать перечисленное при помощи обычных пробелов не удаётся, поскольку в словарных программах действует правило их сокращения. Имитация успешно осуществляется при помощи пробелов нестандартных.</p>
<p>Красную строку, т.е. отступ первой строки в абзаце, можно набирать неразрывными пробелами обычной ширины (<em>No-break space, первый в таблице ниже</em>), как правило от 4 до 7. При этом последним пробелом, примыкающим к первой букве слова, рекомендуется ставить стандартный пробел (<em>о причинах см. ниже</em>).</p>
<p>Отбивка, т.е. пустая строка между абзацами, также создаётся при помощи неразрывного пробела, помещённого на отдельной строке. Для удобства чтения и дальнейшей обработки исходного DSL можно заключать пробел в тэг отступа <span class="code">[m0]</span>, хотя побочно это незначительно повлияет на размер файла.</p>
<p>Существует возможность регулировать высоту отбивки при помощи тэгов надстрочного <span class="code">[sup]</span> и подстрочного <span class="code">[sub]</span> индекса, расставленных вокруг неразрывного пробела. Это средство вполне работоспособно, но к сожалению неодинаково трактуется словарными программами. В Lingvo максимальная высота получается при употреблении <span class="code">[sub]</span>, а минимальная&nbsp;&mdash; при <span class="code">[sup]</span>:</p>
<p style="text-align:center;"><img src="images/nbsp_lingvo.png"></p>

<p>В GoldenDict максимальную высоту даёт неразрывный пробел без тэгов, а минимальную&nbsp;&mdash; в связке с <span class="code">[sub]</span>:</p>
<p style="text-align:center;"><img src="images/nbsp_gd.png"></p>

<p>Помимо неразрывного пробела для перечисленных целей можно использовать любой другой нестандартный пробел. Единственное преимущество первого в том, что он более распространён в шрифтах, чем другие.</p>
<p>Относительное неудобство, возникающее при работе с нестандартными пробелами, как и с другими специальными символами, заключается в том, что для доступа к ним напрямую с клавиатуры не предусмотрены отдельные клавиши. Это препятствие преодолевается следующими способами.</p>
<p>Можно воспользоваться сторонней утилитой BabelMap (или её аналогами: PopChar, системной <abbr title="Таблица символов">Character Map</abbr>), при помощи которой откопировать нужный символ в текст словаря и далее дублировать его по необходимости.</p>
<p>Можно использовать способ набора с клавиатуры при помощи т.н. <em>Alt-кодов</em>. Как правило в профессиональных текстовых редакторах такой способ доступен и заключается в следующем. Для вставки в текст требуемого символа, нужно зажать клавишу <span class="key">Alt</span> и, не отпуская клавишы, набрать десятичный код этого символа на цифровой клавиатуре (отдельная группа клавиш в правой части полной клавиатуры, т.н. NumPad). Так, например, для вставки неразрывного пробела (No-break space) необходимо зажать <span class="key">Alt</span> и набрать на NumPad <span class="key">0</span><span class="key">1</span><span class="key">6</span><span class="key">0</span>, для вставки M-пробела (Em space)&nbsp;&mdash; <span class="key">Alt</span>+<span class="key">8</span><span class="key">1</span><span class="key">9</span><span class="key">5</span>. В некоторых редакторах перед десятичным кодом требуется дополнительно набирать ноль <span class="key">0</span> или два ноля <span class="key">0</span><span class="key">0</span>.</p>
<p>Можно воспользоваться возможностями поиска/замены. Вначале набрать произвольный символ в местах, где необходимо вставить нестандартный пробел, а затем заменить набранный символ на требуемый при помощи регулярных выражений. Например:</p>
<ol>
  <li>Набираем слово <span class="code">р@а@з@р@я@д@к@а</span>.</li>
  <li>Выделяем это слово и вызываем диалог поиска/замены.</li>
  <li>В поле <em>Найти</em> набираем <span class="code">@</span>, а в поле <em>Заменить</em>&nbsp;&mdash; <span class="code">\u2008</span> (Escape-последовательность с шестнадцатеричным кодом т.н. пунктуационного пробела).</li>
  <li>Активизируем переключатели <em>Регулярные выражения</em> и <em>Заменить в выделенном отрывке</em>, затем жмём на кнопку <em>Заменить всё</em>.</li>
  <li>Смотрим на результат: слово «р&#8200;а&#8200;з&#8200;р&#8200;я&#8200;д&#8200;к&#8200;а» отображается на экране с эффектом разреженного текста.</li>
</ol>
<br>
<table style="text-align:center">
<col><col><col><col width="125">
<tbody>
  <tr>
    <th rowspan="2">Название<br>в Юникоде</th>
    <th colspan="2" style="text-align:center">Код в Юникоде</th>
    <th rowspan="2" style="text-align:center">Выглядит</th>
    <th rowspan="2" style="text-align:center">Мнемоника<br>в <span style="white-space: nowrap;">HTML 4</span></th>
    <th rowspan="2">Пояснения</th>
  </tr>
  <tr>
    <th style="text-align:center"><abbr title="шестнадцатеричный"><small>HEX</small></abbr></th>
    <th style="text-align:center"><abbr title="десятичный"><small>DEC</small></abbr></th>
  </tr>
  <tr>
    <td style="text-align:left">NO-BREAK SPACE</td>
    <td>A0</td>
    <td>160</td>
    <td><nobr>п&nbsp;р&nbsp;и&nbsp;м&nbsp;е&nbsp;р</nobr></td>
    <td>&amp;nbsp;</td>
    <td style="text-align:left">аналогичен обычному пробелу, но <b>неразрывный</b></td>
  </tr>
  <tr>
    <td style="text-align:left">EN QUAD</td>
    <td>2000</td>
    <td>8192</td>
    <td><nobr>п&#8192;р&#8192;и&#8192;м&#8192;е&#8192;р</nobr></td>
    <td></td>
    <td style="text-align:left">канонически эквивалентен символу <span style="white-space: nowrap;">0x2002 EN SPACE</span></td>
  </tr>
  <tr>
    <td style="text-align:left">EM QUAD</td>
    <td>2001</td>
    <td>8193</td>
    <td><nobr>п&#8193;р&#8193;и&#8193;м&#8193;е&#8193;р</nobr></td>
    <td></td>
    <td style="text-align:left">канонически эквивалентен символу <span style="white-space: nowrap;">0x2003 EM SPACE</span></td>
  </tr>
  <tr>
    <td style="text-align:left">EN SPACE</td>
    <td>2002</td>
    <td>8194</td>
    <td><nobr>п&#8194;р&#8194;и&#8194;м&#8194;е&#8194;р</nobr></td>
    <td>&amp;ensp;</td>
    <td style="text-align:left">равен половине кегля шрифта (исторически такой была ширина заглавной буквы «N»)</td>
  </tr>
  <tr>
    <td style="text-align:left">EM SPACE</td>
    <td>2003</td>
    <td>8195</td>
    <td><nobr>п&#8195;р&#8195;и&#8195;м&#8195;е&#8195;р</nobr></td>
    <td>&amp;emsp;</td>
    <td style="text-align:left">равен кеглю шрифта (исторически такой была ширина заглавной буквы «M»)</td>
  </tr>
  <tr>
    <td style="text-align:left">THREE-PER-EM SPACE</td>
    <td>2004</td>
    <td>8196</td>
    <td><nobr>п&#8196;р&#8196;и&#8196;м&#8196;е&#8196;р</nobr></td>
    <td></td>
    <td style="text-align:left">ближе всех к обычному пробелу, втрое меньше, чем EM-SPACE</td>
  </tr>
  <tr>
    <td style="text-align:left">FOUR-PER-EM SPACE</td>
    <td>2005</td>
    <td>8197</td>
    <td><nobr>п&#8197;р&#8197;и&#8197;м&#8197;е&#8197;р</nobr></td>
    <td></td>
    <td style="text-align:left">в четыре раза меньше, чем EM-SPACE</td>
  </tr>
  <tr>
    <td style="text-align:left">SIX-PER-EM SPACE</td>
    <td>2006</td>
    <td>8198</td>
    <td><nobr>п&#8198;р&#8198;и&#8198;м&#8198;е&#8198;р</nobr></td>
    <td></td>
    <td style="text-align:left">в шесть раз меньше, чем EM-SPACE</td>
  </tr>
  <tr>
    <td style="text-align:left">FIGURE SPACE</td>
    <td>2007</td>
    <td>8199</td>
    <td><nobr>п&#8199;р&#8199;и&#8199;м&#8199;е&#8199;р</nobr></td>
    <td></td>
    <td style="text-align:left">имеет такую же ширину, что и цифры в текущем шрифте; предназначен для набора таблиц; <b>неразрывный</b></td>
  </tr>
  <tr>
    <td style="text-align:left">PUNCTUATION SPACE</td>
    <td>2008</td>
    <td>8200</td>
    <td><nobr>п&#8200;р&#8200;и&#8200;м&#8200;е&#8200;р</nobr></td>
    <td></td>
    <td style="text-align:left">ширина равна ширине точки</td>
  </tr>
  <tr>
    <td style="text-align:left">THIN SPACE</td>
    <td>2009</td>
    <td>8201</td>
    <td><nobr>п&#8201;р&#8201;и&#8201;м&#8201;е&#8201;р</nobr></td>
    <td>&amp;thinsp;</td>
    <td style="text-align:left">обычно имеет ширину в <span style="white-space:nowrap"><span style="font-size:0.8em"><sup>1</sup><big>&#8260;</big><sub>5</sub></span></span> (реже&nbsp;— в <span style="white-space:nowrap"><span style="font-size:0.8em"><sup>1</sup><big>&#8260;</big><sub>6</sub></span></span>) кегля;<br>пропорционально соответствует двухпунктовой шпации при наборе кеглем в <span style="white-space: nowrap;">10&nbsp;пунктов</span></td>
  </tr>
  <tr>
    <td style="text-align:left">HAIR SPACE</td>
    <td>200A</td>
    <td>8202</td>
    <td><nobr>п&#8202;р&#8202;и&#8202;м&#8202;е&#8202;р</nobr></td>
    <td></td>
    <td style="text-align:left">самый тонкий пробел, соответствует самой тонкой шпации в кассе наборщика</td>
  </tr>
  <tr>
    <td style="text-align:left">ZERO-WIDTH SPACE</td>
    <td>200B</td>
    <td>8203</td>
    <td><nobr>п&#8203;р&#8203;и&#8203;м&#8203;е&#8203;р</nobr></td>
    <td></td>
    <td style="text-align:left">ширина нулевая; ставится в местах, где нужно разорвать 
    строку, не добавляя знак переноса; применяется в 
    языках, где нет пробелов; при выравнивании текста по ширине может 
    расширяться, как и любой другой пробел</td>
  </tr>
  <tr>
    <td style="text-align:left">NARROW NO-BREAK SPACE</td>
    <td>202F</td>
    <td>8239</td>
    <td><nobr>п&#8239;р&#8239;и&#8239;м&#8239;е&#8239;р</nobr></td>
    <td></td>
    <td style="text-align:left">узкий <b>неразрывный</b> пробел</td>
  </tr>
  <tr>
    <td style="text-align:left">MEDIUM MATHEMATICAL SPACE</td>
    <td>205F</td>
    <td>8287</td>
    <td><nobr>п&#8287;р&#8287;и&#8287;м&#8287;е&#8287;р</nobr></td>
    <td></td>
    <td style="text-align:left">узкий пробел, применяемый в математических формулах</td>
  </tr>
  <tr>
    <td style="text-align:left">WORD JOINER</td>
    <td>2060</td>
    <td>8288</td>
    <td><nobr>п&#8288;р&#8288;и&#8288;м&#8288;е&#8288;р</nobr></td>
    <td></td>
    <td style="text-align:left">аналогичен ZERO-WIDTH SPACE, но <b>неразрывный</b></td>
  </tr>
  <tr>
    <td style="text-align:left">IDEOGRAPHIC SPACE</td>
    <td>3000</td>
    <td>12288</td>
    <td><nobr>п&#12288;р&#12288;и&#12288;м&#12288;е&#12288;р</nobr></td>
    <td></td>
    <td style="text-align:left">используется в восточных языках;<br>равняется ширине одного иероглифа</td>
  </tr>
  <tr>
    <td colspan="6" style="text-align:left;background:gainsboro;font-size:85%;padding-top:1px;padding-bottom:1px"><em>Источник таблицы: Энциклопедия Руниверсалис, статья <a target="_blank" href="https://xn--h1ajim.xn--p1ai/index.php/%D0%9F%D1%80%D0%BE%D0%B1%D0%B5%D0%BB">Пробел</a></em>.</td>
  </tr>
</tbody></table>
<br>
<p><strong>Замечания</strong>: При использовании нестандартных пробелов необходимо учитывать, что не во всех шрифтах есть глифы для их отображения. Впрочем, в современных программах этот недостаток нивелируется благодаря системе подстановки шрифтов.</p>
<p>Текущая версия Lingvo (x6) не воспринимает нестандартные пробелы как разделители слов. Это оказывает влияние на поиск слов в тексте словарей, приводя к следующим последствиям:</p>
<ol>
  <li>Нестандартный пробел, прилегающий к слову, воспринимается как часть слова, его дополнительная буква. Такие слова не ищутся ни порознь, ни вместе при полнотекстовом поиске, если в соответствующих местах строки поиска не вставить употреблённый пробел.</li>
  <li>Нестандартный пробел, стоящий обособленно, воспринимается как отдельное слово. Это влияет на результаты поиска при включенной настройке <abbr title="Limit distance: Not more N other words between query words">Ограничивать расстояние: Не более N слов между словами запроса</abbr>.</li>
</ol>
<p>Во избежание 1о последствия при создании красных строк после группы неразрывных пробелов перед примыкающим словом рекомендуется ставить один обычный пробел (<em>как было упомянуто выше</em>). Во избежание 2о последствия можно заключать обособленные нестандартные пробелы в тэг <span class="code">[!trs]</span>, соблюдая при этом и правило его расположения&nbsp;&mdash; только внутри одной из зон индексирования.</p>
<p>На работу поисковой системы в программе GoldenDict наличие в тексте нестандартных пробелов не влияет.</p>

</div>
<div id="footer">
<p>Справочник по DSL • <a href="changes.html">Версия 1.1</a> • 12.08.2023</p>
<p>Public Domain 2023 yozhic. Свободный контент. Все права открыты и неограничены. Никаких гарантий и ответственности.</p>
</div>
</body>
</html>
