<!DOCTYPE html>
<html>
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      <title>Создание словаря</title>
      <link href="files/style.css" rel="stylesheet">
      <script src="files/jquery-2.1.0.min.js" type="text/javascript"></script>
      <script src="files/main.js"></script>
</head>

<body>
<div id="header">Справочник по DSL</div>
<div id="main">
<h1>О создании словарей</h1>
<p>Конечный пункт в направлении прикладываемых усилий при освоении DSL – это собственный электронный словарь. DSL позволяет создавать словари различной степени сложности в плане структуры и оформления. И если для создания словаря простого достаточно элементарных начальных сведений, то для создания словаря с расширенным оформлением помимо DSL могут понадобиться также дополнительные знания и навыки.</p>
<p class="content"><img src="images/line.png"></p>
<p class="content"><a href="#easy" class="content">Простой словарь DSL</a></p>
<p class="content"><a href="#cool" class="content">Форматированный словарь DSL</a></p>
<p class="content"><a href="#tools" class="content">Рекомендуемые инструменты</a></p>
<p class="content"><a href="#books" class="content">Рекомендуемая литература</a></p>
<p class="content"><img src="images/line.png"></p>


<a name="easy"></a>
<h2>Простой словарь DSL</h2>
<p>Под словом «простой» в словаределании подразумевается словарь без форматирования (без применения тэгов) с элементарной структурой: заголовок &rarr; перевод&thinsp;/&thinsp;толкование (без дополнительных объяснений, как правило). Такими обычно бывают словари синонимов, антонимов и т.п. Среди словарей, входящих в комплект программы ABBYY Lingvo версии x5 и выше, примером «простого» словаря является HoverDictionary (представлен в разных языках). Сходной структурой также обладают пользовательские словари с ограниченным редактированием <span class="code_names">*.lud</span> (<em>подробнее см. «<a href="var_dicts.html#user">Виды словарей в Lingvo</a>»</em>) и вспомогательные словари аббревиатур.</p>
<div class="EntryBox">
<p class="EntryBoxHead">Пример «простого» словаря :: Вид в словарной карточке</p>
<div class="Entry"><div class="EntryTitle"><span class="EntryTitle">HoverDictionary (En-Ru)</span></div>
<div class="dsl_headword">door</div><div class="dsl_m0">дверь; дверца; створка; дверка</div></div></div>
<p>Для создания «простого» словаря не требуются специальные знания и навыки. Достаточно выполнить следующие действия.</p>
<ol>
  <li>Создать текстовый файл с расширением <span class="code_names">*.txt</span> в кодировке ANSI или Unicode (UTF-16 LE).</li>
  <li>Заполнить первые три строчки следующим содержимым:<br><br>
  <div class="CodeBox_li">
  <p class="CodeBoxHead">Пример первых трёх строчек «простого» словаря</p>
  <div class="Code"><pre>#NAME		"Словарь (En-Ru)"
#INDEX_LANGUAGE		"English"
#CONTENTS_LANGUAGE	"Russian"
</pre></div></div><br>Вместо «Словарь (En-Ru)» указать имя нового словаря и языковую пару в скобках, вместо «English» и «Russian» – английские наименования языка заголовков и языка переводов&thinsp;/&thinsp;толкований. Допускается использовать только <a href="langs.html#supported">языки, поддерживаемые в Lingvo</a>.</li>
  <li>Затем разместить словарные статьи, где каждый заголовок должен начинаться с новой строки, а относящийся к нему перевод&thinsp;/&thinsp;толкование со следующей новой строки со знаком пробела или табуляции в начале.<br><br>
<div class="CodeBox_li">
<p class="CodeBoxHead">Пример содержимого «простого» словаря</p>
<div class="Code"><pre>door
	дверь; дверца; створка; дверка
doorbell
	дверной звонок
doorman
	швейцар</pre></div></div><br>
</li>
  <li>Сохранить файл с расширением <span class="code_names">*.dsl</span>.</li>
  <li>Откомпилировать полученный DSL словарь в формат LSD при помощи утилиты DSL Compiler, входящей в комплект программы ABBYY Lingvo. При этом проследить, чтобы в утилите была отмечена галочка <em><abbr title="Автоматически добавлять разметку, необходимую для поиска по содержимому карточек словаря">Create dictionary ready for indexing</abbr></em>.</li>
</ol>
<p>Созданный таким способом LSD словарь можно подключать к программе Lingvo, а исходный DSL – к программе GoldenDict, или любой другой, умеющей работать с DSL напрямую, без дополнительной конвертации.</p>


<a name="cool"></a>
<h2>Форматированный словарь DSL</h2>
<p>Кроме «простых» словарей, DSL также позволяет создавать словари с развитой внутренней структурой и оформлением. К тексту словаря могут быть применены различные способы выделения: начертанием, цветом, отступами абзацев. Условные сокращения могут содержать интерактивные расшифровки своих значений. Словарные статьи могут быть поделены на различные зоны, влияющие как на отображение элементов, так и на работу механизма поиска по содержимому. При помощи гиперссылок может быть организован быстрый переход между статьями одного или нескольких словарей, а также на внешние интернет-ресурсы. В состав словаря могут быть включены иллюстрации, аудио и видео материалы.</p>
<p>Эти и другие удобства достигаются путём применения к тексту форматирования &ndash; разметки текста при помощи тэгов. В общих чертах, доступные в DSL средства форматирования значительно улучшают восприятие и эффективность использования словарей. Жаль только, что не удовлетворяют всем основным потребностям словаределания: так, например, при помощи DSL невозможно отобразить таблицу.</p>
<p>Для создания форматированных словарей словаределателю понадобится следующий набор технических знаний и навыков.</p>
<ol><li>Знание всех существующих конструкций языка <strong>DSL</strong> &ndash; само собой разумеется.</li>
<li>Знание <strong>языка регулярных выражений</strong> &ndash; необходимо для того, чтобы быть способным обрабатывать словари большого объёма.</li>
<li>Навык или способность работы в <strong>профессиональных текстовых редакторах</strong>. Это программы, обладающие набором специализированных средств для лучшего восприятия текста и автоматизации рутинных задач при его обработке. Именно в таких программах быстрее и удобнее всего производится разметка тэгами. Их основные преимущества (<em>актуальные для словаределания</em>):
	<ul><li>обработка файлов большого объёма (<em>в десятки и сотни мегабайт</em>);</li>
	<li>одновременная обработка множества файлов;</li>
	<li>мощные инструменты поиска и замены текста;</li>
	<li>возможность визуального выделения (подсветки) тэгов при помощи цвета и начертания (<em>функция, значительно облегчающая работу при редактировании и, особенно, вычитке словарей</em>);</li>
	<li>автоподстановка фрагментов текста или конструкций тэгов;</li>
	<li>доступ к настройкам вспомогательного инструментария (<em>горячие клавиши, кнопки, переключатели и т.п.</em>);</li>
	<li>средства сбора статистики по тексту.</li></ul>
Оговорка: разметку тэгами можно производить и в таких программах, как Microsoft Word или Блокнот, но это будет долго и неэффективно.</li>
<li>Знание или знакомство с <strong>написанием скриптов</strong> (сценариев на несложных языках программирования). Понадобится для решения задач нетривиальных, узко-специализированных, когда стандартных возможностей текстовых редакторов не хватает. Нередко подобные задачи ограничиваются рамками одного конкретного словаря. Понимание основ скриптового программирования, пусть даже поверхностное, пригодится и для того, чтобы внятно сформулировать тех-задание, если придётся обратиться за помощью в написании к опытному программисту, произвести элементарные настройки в уже существующих скриптах, или просто разобраться в том, как скрипт работает и как обращаться с параметрами для его запуска.</li></ol>
<p>Добавим: перечисленные знания не являются сложными в освоении и, по факту, приобретаются достаточно быстро. К тому же, согласно известному афоризму, «дорогу осилит идущий».</p>


<a name="tools"></a>
<h2>Рекомендуемые инструменты</h2>
<h3>nodereplacer.js</h3>
<p>Богатый набор инструментов для нужд словаределания, написанный на JavaScript. Управление осуществляется из командной строки. Основное назначение: обработка DSL, анализ DSL, подготовка словарного материала для конвертации в DSL. Некоторые функции: обработка словарных статей (дубликаты, сортировка), обработка словарных заголовков (дубликаты, сортировка, раскрытие скобок), маркировка подвешенных ссылок, поиск/замена при помощи регулярных выражений с учётом специфики DSL, проверка синтаксиса DSL, исправление распространённых ошибок DSL.</p>
<p><span class="bold">Разработчик</span>: andreyefgs, <a href="https://github.com/lingvoboard/nodereplacer">github.com</a></p>
<p><span class="bold">Требования</span>: Дополнительная установка окружения Node.js.</p>
<p><span class="bold">Преимущества</span>: Целенаправленная специализация (словаределание). Мощность. Высокая скорость обработки.</p>
<p><span class="bold">Относительные недостатки</span>: Не выявлены.</p>

<h3>Набор скриптов на Perl</h3>
<p>Богатый набор инструментов для нужд словаределания, написанный на Perl. Управление осуществляется из командной строки. Основное назначение: обработка DSL, анализ DSL. Некоторые функции: обработка словарных статей и заголовков (дубликаты, сортировка), маркировка подвешенных ссылок, проверка нумерации разделов в карточке, расстановка ударений, замена тильды на заголовок, поиск/замена при помощи регулярных выражений с учётом специфики DSL, исправление некоторых распространённых ошибок DSL. Эта разработка &ndash; предшествующая nodereplacer.js.</p>
<p><span class="bold">Разработчик</span>: andreyefgs, <a href="http://www.lingvoboard.ru/forum/viewforum.php?f=4&sid=05ee222660bb5340f6dc36f684fb8da4">www.lingvoboard.ru/forum/</a></p>
<p><span class="bold">Относительные недостатки</span>: Не выявлены. Автор рекомендует пользоваться своей более новой разработкой nodereplacer.js.</p>
<p><span class="bold">Преимущества</span>: Целенаправленная специализация (словаределание). Мощность. Высокая скорость обработки.</p>
<p><span class="bold">Требования</span>: Дополнительная установка окружения Perl.</p>

<h3>PowerGREP</h3>
<p>Программный комплекс для пакетной (массовой) обработки текстовых файлов при помощи регулярных выражений. Справляется с файлами большого размера (в сотни мегабайт). Способен обрабатывать множество файлов одновременно. Предоставляет возможность употреблять регулярные выражения различных диалектов, а также комбинировать диалекты, что особенно удобно для тех, кто только осваивает язык регулярок и ещё путается в особенностях синтаксисов и формулировании своих задач. Варианты применения в словаределании: обработка множества html-файлов при конвертации словарей из сетевых источников.</p>
<p><span class="bold">Разработчик</span>: Jan Goyvaerts, Just Great Software Co. Ltd., <a href="http://www.powergrep.com/">www.powergrep.com</a></p>
<p><span class="bold">Преимущества</span>: Обработка множества файлов. Мощность. Высокая скорость обработки. Лучший синтаксис регулярных выражений (ибо комбинированный). Лучшее справочное руководство для изучения регулярных выражений (english only).</p>
<p><span class="bold">Относительные недостатки</span>: Встроенный текстовый редактор нефункционален и неудобен. Программа не бесплатна.</p>

<h3>EditPad</h3>
<p>Профессиональный текстовый редактор. Дополнение к PowerGREP от того же разработчика с теми же преимуществами (кроме пакетной обработки), сфокусированное на работе с одиночными файлами. Стараниями словаределателей создана дополнительная подсветка синтаксиса для DSL и организована интеграция с nodereplacer.js.</p>
<p><span class="bold">Разработчик</span>: Jan Goyvaerts, Just Great Software Co. Ltd., <a href="http://www.editpadpro.com/">www.editpadpro.com</a></p>
<p><span class="bold">Преимущества</span>: Дополнительные расширения для работы с DSL. Мощность. Высокая скорость обработки. Лучший синтаксис регулярных выражений (ибо комбинированный). Лучшее справочное руководство для изучения регулярных выражений (english only).</p>
 <p><span class="bold">Относительные недостатки</span>: Программа не бесплатна.</p>

<h3>EmEditor</h3>
<p>Профессиональный текстовый редактор. Из существующих самый, пожалуй, мощный и скоростной. Развитый механизм поиска/замены при помощи регулярных выражений (два движка: Boost.Regex и Onigmo). Редкие возможности поиска/замены (например, изменение регистра найденного совпадения или его части). Настраиваемая схема подсветки синтаксиса для наглядного отображения текста. Развитые средства автоматизации рутинных задач.</p>
<p><span class="bold">Разработчик</span>: Emurasoft, Inc., <a href="https://www.emeditor.com/">www.emeditor.com</a></p>
<p><span class="bold">Преимущества</span>: Мощность. Высокая скорость обработки.</p>
<p><span class="bold">Относительные недостатки</span>: Ограниченные возможности настройки подсветки синтаксиса. Неповоротливость и медлительность при выполнении некоторых задач. Программа не бесплатна.</p>

<h3>AkelPad</h3>
<p>Профессиональный текстовый редактор. 2 независимых механизма поиска/замены при помощи регулярных выражений (свой собственный и на движке JScript). Гибкая и многоплановая настройка элементов рабочего окружения: кнопок, панелей, меню, клавиатурных сочетаний, цветовых схем, подсветок синтаксиса, функций автоподстановки текста и мн. др. Развитые средства автоматизации рутинных задач. Расширение возможностей автоматизации путём подключения дополнительных скриптов. Удобная среда для создания собственных скриптов разного уровня сложности. Стараниями словаределателей на основе AkelPad создана сборка AkelDSL, включающая: инструмент для работы над ошибками DSL, предпросмотр кода DSL, подсветку синтаксиса DSL, дополнительную панель кнопок для работы с DSL и другие инструменты.</p>
<p><span class="bold">Разработчик</span>: Александр Шенгальц, <a href="http://akelpad.sf.net/">akelpad.sf.net</a></p>
<p><span class="bold">Преимущества</span>: Дополнительные расширения для работы с DSL. Лучшие возможности по организации рабочего пространства и расширению функциональности.</p>
<p><span class="bold">Относительные недостатки</span>: Сложности с обработкой файлов большого размера. Собственный механизм регулярных выражений ещё в процессе доработки.</p>

<h3>Notepad++</h3>
<p>Профессиональный текстовый редактор. Развитый механизм поиска/замены при помощи регулярных выражений. Настройка подсветки синтаксиса для наглядного отображения текста. Развитые средства автоматизации рутинных задач. Стараниями словаределателей создана дополнительная панель кнопок для работы с DSL.</p>
<p><span class="bold">Разработчик</span>: Don Ho, <a href="http://notepad-plus-plus.org/">notepad-plus-plus.org</a></p>
<p>Преимущества и недостатки не выявлялись.</p>

<h3>Beyond Compare</h3>
<p>Один из лучших на сегодняшний день инструментов для сравнения текстовых файлов по содержимому (при работе над словарями сравнивать файлы приходится довольно часто).</p>
<p><span class="bold">Разработчик</span>: Scooter Software, Inc., <a href="http://www.scootersoftware.com/">www.scootersoftware.com</a></p>
<p><span class="bold">Относительные недостатки</span>: Программа не бесплатна.</p>

<h3>PopChar</h3>
<p>Один из лучших инструментов быстрого доступа к символам, недоступным с клавиатуры. Наглядное представление таблицы Unicode, исчерпывающая информация о символах, развитая система поиска и определения символов.</p>
<p><span class="bold">Разработчик</span>: Ergonis Software GmbH, <a href="http://www.ergonis.com/products/popcharwin/">www.ergonis.com</a></p>
<p><span class="bold">Относительные недостатки</span>: Программа не бесплатна.</p>

<a name="books"></a>
<h2>Рекомендуемая литература</h2>
<ol>
<li><em>Джеффри Фридл</em>. Регулярные выражения. Перевод с английского Е. Матвеева и А. Киселева. 3-е издание. СПб.: Символ-Плюс, 2008, 608 страниц, иллюстрации. Объективно лучшая на сегодняшний день книга о регулярных выражениях на русском языке.</li>
<li><em>Jan Goyvaerts</em>. Справочное руководство к программам PowerGREP, EditPad, RegexBuddy (входит в состав упомянутых программ). Лучшее на сегодняшний день руководство к изучению регулярных выражений на английском языке.</li>
<li><em>niccolo + andreyefgs + ru-board</em>. Руководство по конвертации бумажных словарей в Lingvo. Подробное, пошаговое руководство по созданию DSL словарей из печатных изданий + дополнительные сведения по словаределанию.</li>
</ol>
</div>
<div id="footer">
<p>Справочник по DSL • <a href="changes.html">Версия 0.9.6 alpha 2</a> • 04.08.2020</p>
<p>Public Domain 2020 yozhic. Свободный контент. Все права открыты и неограничены. Никаких гарантий и ответственности.</p>
</div>
</body>
</html>
