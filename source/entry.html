<!DOCTYPE html>
<html>
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=windows-1251" />
      <title>Структура словарной статьи</title>
      <link href="files/style.css" rel="stylesheet">
</head>

<body>
<div id="header">Справочник по DSL</div>
<div id="main">
<h1>Структура словарной статьи</h1>
<p class="content"><img src="images/line.png"></p>
<p class="content"><a href="#article" class="content">Словарная статья</a></p>
<p class="content"><a href="#headword" class="content">Заголовок статьи</a></p>
<p class="content"><a href="#body" class="content">Тело статьи</a></p>
<p class="content"><img src="images/line.png"></p>


<span class=anchor><a name="article"></a>
<h2>Словарная статья</h2></span>
<p>Словарь на языке DSL представляет собой последовательность словарных статей. Каждая статья состоит из двух частей: <em>заголовка</em> (заглавного слова или словосочетания) и <em>тела</em>.</p>
<p><em>Телом</em> называется переводная или толковательная часть, следующая сразу за <em>заголовком</em>. <em>Тело</em> одной статьи простирается до <em>заголовка</em> следующей статьи или, если эта статья&nbsp;&mdash; последняя, до конца файла.</p>
<p>Между <em>телом</em> одной и <em>заголовком</em> следующей статьи для удобства чтения исходного DSL могут быть вставлены одна или несколько <abbr title="2х или более символов новой строки и/или перевода каретки подряд">пустых строк</abbr>.</p>
<p>Напротив, между <em>заголовком</em> и <em>телом</em> в пределах одной статьи наличие пустых строк не допускается. При компилировании такая строка будет истолкована как начало <em>тела</em> новой статьи, что приведёт к ошибке с сообщением об отсутствии <em>заголовка</em>.</p>
<p>У одного <em>тела</em> может быть несколько <em>заголовков</em>, между которыми также не допускается наличие пустых строк. При компилировании такая строка будет истолкована как начало <em>заголовка</em> новой статьи, что приведёт к ошибке с сообщением об отсутствии <em>тела</em>.</p>
<p>В одном словаре не допускается наличие двух статей с одинаковыми <em>заголовками</em>. При этом учитывается регистр букв, т.е. если <em>заголовки</em> совпадают по буквам, а буквы различаются по регистру, то <em>заголовки</em> уже не одинаковы: например, <span class="code">барс</span> и <span class="code">Барс</span>&nbsp;&mdash; разные заголовки.</p>
<p>Словарные статьи можно располагать в произвольной последовательности, не соблюдая алфавитного порядка <em>заголовков</em>. При отображении в словарной программе <em>заголовки</em> сортируются и порядок их следования в DSL не учитывается.</p>
<p>В DSL, подобно родственному ему языку HTML, действует правило сокращения пробелов: любое количество пробелов, идущих подряд в <em>заголовке</em> или <em>теле</em> статьи, при компилировании заменяются одним пробелом.</p>


<span class=anchor><a name="headword"></a>
<h2>Заголовок статьи</h2></span>
<p><em>Заголовком</em> в DSL является строка, начинающаяся с любого символа, кроме знаков пробела, табуляции и метасимвола <abbr title="команда директивы предварительной обработки">#</abbr>.</p>
<p><em>Заголовком</em> может быть как слово, так и словосочетание.</p>
<p>Максимально допустимая длина <em>заголовка</em>&nbsp;&mdash; 246 <abbr title="в кодировке UTF-16: двухбайтовые «слова»">символов</abbr>, включая пробельные. Если этот порог превысить, компилятор сообщит об ошибке и исключит текущую статью из скомпилированного словаря. При подсчёте учитываются также метасимволы <abbr title="экранирование">\</abbr> , <abbr title="несортируемая часть заголовка">{&hellip;}</abbr> и <abbr title="альтернативная часть заголовка">(&hellip;)</abbr> со своим содержимым, но не учитываются пробелы, идущие после 246-го непробельного символа&nbsp;&mdash; таковые при компилировании будут проигнорированы. Если DSL сохранён в кодировке Unicode (UTF-16 LE), то в <em>заголовках</em> могут присутствовать символы занимающие более двух байтов. В таких случаях максимально допустимая длина может сокращаться (<em>подробнее см. в главе <a href="dsl.html#limit">Ограничения формата DSL</a></em>).</p>
<p>Для того, чтобы лучше разобраться в некоторых особенностях оформления <em>заголовков</em>, прежде рассмотрим способ их отображения в словарной программе. При подключении словаря к Lingvo, <em>заголовки</em> отображаются двояко:</p>
<ol class=wpar>
  <li>в главном окне программы в общем списке всех <em>заголовков</em>;</li>
  <li>в окне словарной карточки вместе с <em>телом</em> статьи.</li>
</ol>

<p style="text-align:center;"><img src="images/entry1.png"></p>
<p style="text-align:center;"><img src="images/entry2.png"></p>

<p>На приведённых снимках заметны различия отображения одного и того же <em>заголовка</em> в списке и в карточке. Ниже объясняются причины этой разницы.</p>
<p>Для отображения <em>заголовков</em> в карточках характерны следующие особенности:</p>
<ol class=wpar>
  <li>выделение полужирным начертанием и шрифтом бо&#769;льшего кегля по умолчанию;</li>
  <li>возможность применять дополнительное форматирование.</li>
</ol>
<p>Список <em>заголовков</em> в главном окне Lingvo включает в себя заголовочные слова и словосочетания из всех словарей, подключенных в данный момент к программе. Для отображения элементов в этом списке характерны другие особенности:</p>
<ol class=wpar>
  <li>отсутствие форматирования;</li>
  <li>сортировка.</li>
</ol>

<p><strong>Сортировка</strong> списка <em>заголовков</em> в Lingvo выполняется по следующему алгоритму:</p>

<ol>
  <li>При сортировке учитываются символы: буквы, числа, пробел, дефис <span class="code">-</span>, точка <span class="code">.</span>, апостроф <span class="code">'</span>, подчёркивание <span class="code">_</span>, запятая <span class="code">,</span> и косая черта <span class="code">/</span>&thinsp;<a name="fntref1"></a><a href="#fnt1"><sup>[1]</sup></a>.</li>
  <li>На первом этапе формирования списка учитывается порядок следования букв в национальных алфавитах, вне зависимости от регистра символов. Вследствие чего заголовок «аврал» предшествует «Аврора», а «ерунда» предшествует «ёрш».</li>
  <li>На втором этапе учитываются числовые коды символов по таблице Юникод. Вследствие чего:</li>
  <ul>
    <li>такие символы как дефис и подчёркивание перемещаются в начало списка;</li>
    <li>числа сортируются «1, 10, 100, 2, 20, 200» вместо «1, 2, 10, 20, 100, 200»;</li>
    <li>«Аврора» предшествует «аврора»;</li>
    <li>латинские символы предшествуют кириллическим и т.д.</li>
  </ul>
  <li>В официальном справочном руководстве к Lingvo по отношению к описанному алгоритму применён термин «"естественный" лексикографический».</li>
</ol>
<p>При оформлении <em>заголовков</em> особую функцию несёт употребление одинарных фигурных скобок <span class="code">{&hellip;}</span>. Эта конструкция создаёт <strong>несортируемую часть</strong> <em>заголовка</em>, которая:</p>
<ol class=wpar>
  <li>не отображается в списке <em>заголовков</em> главного окна;</li>
  <li>игнорируется при сортировке списка <em>заголовков</em> главного окна;</li>
  <li>не учитывается при поиске перевода слов.</li>
</ol>
<p>Рассмотрим, как выглядит <em>заголовок</em> из примера на снимках выше в исходном DSL:</p>

<div class="CodeBox">
<p class="CodeBoxHead">Несортируемая часть заголовка :: Запись в DSL</p>
<div class="Code"><pre>{[c slategray]}{to }{[/c]}tell {[c slategray]}smb{[/c]} how to do {[c slategray]}smth{[/c]}
	[m1][trn]рассказать кому-либо, как что-либо делать[/trn][/m]</pre></div></div>

<p>Сравнение кода DSL и результата его отображения демонстрирует нам следующие особенности:</p>
<ol>
  <li>Любой символ или последовательность символов, заключённые в фигурные скобки, не отображаются в списке <em>заголовков</em>, но отображаются в карточке.</li>
  <li>Тэги DSL, заключённые в фигурные скобки, не отображаются и не влияют на внешний вид <em>заголовков</em> в списке главного окна, но влияют на внешний вид <em>заголовков</em> в словарной карточке.</li>
</ol>

<p>Другую функцию при оформлении <em>заголовков</em> несёт употребление круглых скобок <span class="code">(&hellip;)</span>. С их помощью выделяются <strong>альтернативные части</strong>, при обработке которых один <em>заголовок</em> раскладывается на несколько вариантов. Так, например, запись <span class="code">(пре)вращать(ся)</span> раскроется в четыре отдельных <em>заголовка</em>: <em>вращать</em>, <em>вращаться</em>, <em>превращать</em>, <em>превращаться</em>. Все эти варианты будут показаны без скобок в списке <em>заголовков</em> главного окна, а при обращении к одному из них, откроется словарная карточка, в заглавии которой отобразится исходное написание из DSL со скобками. Повторим наглядно. Запись вида:</p>

<div class="CodeBox">
<p class="CodeBoxHead">Круглые скобки в заголовках :: Запись в DSL</p>
<div class="Code"><pre>(пре)вращать(ся)
	[m1]turn[/m]
</pre></div></div>

<p>в списке <em>заголовков</em> покажет четыре варианта без скобок:</p>
<p style="text-align:center;"><img src="images/parenth_list.png"></p>
<p>а в карточке будет соответствовать написанию в исходном DSL:</p>
<p style="text-align:center;"><img src="images/parenth_entry.png"></p>
<p>У одной статьи может быть несколько <em>заголовков</em>. При этом каждый занимает одну отдельную строку. Все они будут показаны в списке <em>заголовков</em>, но в карточке отобразится только один&nbsp;&mdash; тот, который был выбран при её вызове.</p>
<p>Между несколькими <em>заголовками</em> не допускается наличие <abbr title="2х или более символов новой строки и/или перевода каретки подряд">пустых строк</abbr>. Каждая такая строка будет истолкована при компилировании как начало <em>заголовка</em> новой статьи, что приведёт к ошибке с сообщением об отсутствии <em>тела</em>.</p>


<span class=anchor><a name="body"></a>
<h2>Тело статьи</h2></span>
<p><em>Тело</em> статьи может состоять из одной или нескольких строк, каждая из которых должна начинаться с пробела (одного или нескольких), или табуляции (одной или нескольких). Строки, начинающиеся с любых других символов (кроме метасимвола <abbr title="команда директивы предварительной обработки">#</abbr>), толкуются как <em>заголовки</em>.</p>
<p>В пределах одной статьи между строками <em>тела</em>, а также между <em>заголовком</em> и <em>телом</em> не должно быть <abbr title="2х или более символов новой строки и/или перевода каретки подряд">пустых строк</abbr>. При компилировании таковые приведут к ошибке с сообщением об отсутствии <em>заголовка</em> в первом случае и <em>тела</em>&nbsp;&mdash; во втором.</p>
<p>Максимальная длина одного «слова», как непрерывной последовательности непробельных символов, в <em>теле</em> статьи составляет 255 символов. Превышение данного порога приведёт к ошибке при компилировании. При подсчёте не учитываются метасимвол <abbr title="экранирования">\</abbr> и тэги с их атрибутами и значениями. В программе GoldenDict ограничений на длину «слова» нет, однако очень длинные «слова» там некорректно отображаются.</p>
<a name="blank_line"></a>
<p>В связи с действующим правилом сокращения пробелов, возникают сложности с созданием в <em>теле</em> статьи <abbr title="пустая строка между абзацами">отбивок</abbr> и <abbr title="отступ слева первой строки в абзаце">красных строк</abbr>. Решается это следующими способами:</p>
<ol>
  <li>Употреблением неразрывных пробелов (Non-break space):
  <br><em>код в таблице Юникода</em>: 0x00A0;
  <br><em>Alt-коды</em>: <span class="key">Alt</span>+<span class="key">2</span><span class="key">5</span><span class="key">5</span> или <span class="key">Alt</span>+<span class="key">0</span><span class="key">1</span><span class="key">6</span><span class="key">0</span> (<em>набор на <abbr title="цифровой мини-клавиатуре">NumPad</abbr> с одновременно зажатой клавишей <span class="key">Alt</span></em>).</li>
  <li>Употреблением любых других нестандартных пробелов. К примеру, N-пробела (En space):
  <br><em>код в таблице Юникода</em>: 0x2002;
  <br><em>Alt-код</em>: <span class="key">Alt</span>+<span class="key">8</span><span class="key">1</span><span class="key">9</span><span class="key">4</span><a name="fntref2"></a><a href="#fnt2"><sup>[2]</sup></a>.</li>
  <li>Употреблением <a href="tag_service.html#backslash">экранированных</a> пробелов: <span class="code">\{пробел}</span>.</li>
</ol>
<div class="CodeBox">
<p class="CodeBoxHead">Отбивка и красная строка :: Запись в DSL</p>
<div class="Code"><pre>Адонис
	[m1]      ([p]греч.[/p] Adonis, от [p]финик.[/p] Адон - господин) - [p]греч.[/p] [p]назв.[/p] финикийского божества растительности и плодородия, соответствующего [p]вавилон.[/p] Таммузу. Культ А. известен со 2-го тыс. до н. э., а с нач. 1-го тыс. распространялся по [p]финик.[/p] колониям в Средиземноморье и затем проник в Грецию (в [p]греч.[/p] мифологии А. - возлюбленный Афродиты).[/m]
	\ 
	[m1][p]Лит.:[/p] Baudissin W. W., Adonis und Esmun, Lpz., 19U.</pre></div></div>
<br>
<div class="EntryBox">
<p class="EntryBoxHead">Отбивка и красная строка :: Вид в словарной карточке</p>
<div class="Entry"><div class="EntryTitle"><span class="EntryTitle">Энциклопедия (Ru-Ru)</span></div><div class="dsl_headword">Адонис</div>
<div class="dsl_m1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<abbr title="греческий" class="dsl_p">греч.</abbr> Adonis, от <abbr title="финикийский" class="dsl_p">финик.</abbr> Адон - господин) - <abbr title="греческий" class="dsl_p">греч.</abbr> <abbr title="название" class="dsl_p">назв.</abbr> финикийского божества растительности и плодородия, соответствующего <abbr title="вавилонский" class="dsl_p">вавилон.</abbr> Таммузу. Культ А. известен со 2-го тыс. до н. э., а с нач. 1-го тыс. распространялся по <abbr title="финикийский" class="dsl_p">финик.</abbr> колониям в Средиземноморье и затем проник в Грецию (в <abbr title="греческий" class="dsl_p">греч.</abbr> мифологии А. - возлюбленный Афродиты).</div><br>
<div class="dsl_m1"><abbr title="Литература:" class="dsl_p">Лит.:</abbr> Baudissin W. W., Adonis und Esmun, Lpz., 19U.</div></div></div>
<p>Подробнее о нестандартных пробелах и вариантах их использования в DSL см. в главе <a href="spaces.html">Об использовании нестандартных пробелов</a>.</p>
</div>

<p><img src="images/line.png"></p>
<p class=fnt><a name="fnt1"></a><a href="#fntref1"><sup>[1]</sup></a> <i>В этом месте официальное справочное руководство добавляет: «и прочие» (см. Приложение &rarr; О сортировке заголовков &rarr; Сортируемые символы). Однако не уточняет при этом, о каких именно «прочих» идёт речь.</i></p>
<p class=fnt><a name="fnt2"></a><a href="#fntref2"><sup>[2]</sup></a> <i>В некоторых редакторах для работоспособности Alt-кода перед десятичным кодом символа нужно дополнительно набирать ноль <span class="key">0</span> или два ноля <span class="key">0</span><span class="key">0</span>.</i></p>

<div id="footer">
<p>Справочник по DSL • <a href="changes.html">Версия 1.0</a> • 12.08.2023</p>
<p>Public Domain 2023 yozhic. Свободный контент. Все права открыты и неограничены. Никаких гарантий и ответственности.</p>
</div>
</body>
</html>
