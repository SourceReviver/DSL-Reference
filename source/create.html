<!DOCTYPE html>
<html>
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=windows-1251" />
      <title>О создании словарей DSL</title>
      <link href="files/style.css" rel="stylesheet">
</head>

<body>
<div id="header">Справочник по DSL</div>
<div id="main">
<h1>О создании словарей DSL</h1>
<p>Конечный пункт в направлении прикладываемых усилий при освоении DSL&nbsp;&mdash; это собственный электронный словарь. DSL позволяет создавать словари различной степени сложности в плане структуры и оформления. И если для создания словаря простого достаточно элементарных начальных сведений, то для создания словаря с расширенным оформлением помимо DSL могут понадобиться дополнительные знания и навыки.</p>
<p class="content"><img src="images/line.png"></p>
<p class="content"><a href="#easy" class="content">Простой словарь DSL</a></p>
<p class="content"><a href="#cool" class="content">Форматированный словарь DSL</a></p>
<p class="content"><a href="#tools" class="content">Рекомендуемые инструменты</a></p>
<p class="content"><a href="#books" class="content">Рекомендуемая литература</a></p>
<p class="content"><img src="images/line.png"></p>


<span class=anchor><a name="easy"></a>
<h2>Простой словарь DSL</h2></span>
<p>Под словом «простой» в словаределании подразумевается словарь без форматирования (без применения тэгов) с элементарной структурой: заголовок &rarr; перевод&thinsp;/&thinsp;толкование (без дополнительных пояснений, как правило). Такими обычно бывают словари синонимов, антонимов и т.п. Среди словарей, входящих в комплект ABBYY Lingvo x5 и выше, примером простого словаря является HoverDictionary (представлен в разных языках). Сходной структурой также обладают пользовательские словари с ограниченным редактированием <span class="code_names">*.lud</span> (<em>подробнее см. в главе <a href="var_dicts.html#user">Виды словарей в Lingvo</a></em>) и вспомогательные словари аббревиатур.</p>
<div class="EntryBox">
<p class="EntryBoxHead">Пример простого словаря :: Вид в словарной карточке</p>
<div class="Entry"><div class="EntryTitle"><span class="EntryTitle">HoverDictionary (En-Ru)</span></div>
<div class="dsl_headword">door</div><div class="dsl_m0">дверь; дверца; створка; дверка</div></div></div>
<p>Для создания простого словаря не требуются специальные знания и навыки. Достаточно выполнить следующие действия:</p>
<ol>
  <li>Создать текстовый файл с расширением <span class="code_names">*.txt</span> в кодировке ANSI или Unicode (UTF-16 LE).</li>
  <li>Заполнить первые три строчки следующим содержимым:<br><br>
  <div class="CodeBox_li">
  <p class="CodeBoxHead">Пример первых трёх строчек простого словаря</p>
  <div class="Code"><pre>#NAME		"Словарь (En-Ru)"
#INDEX_LANGUAGE		"English"
#CONTENTS_LANGUAGE	"Russian"
</pre></div></div><br>Вместо «Словарь (En-Ru)» указать имя нового словаря и языковую пару в скобках, вместо «English» и «Russian»&nbsp;&mdash; английские наименования языка заголовков и языка переводов&thinsp;/&thinsp;толкований. Допускается использовать только <a href="langs.html#supported">языки, поддерживаемые в Lingvo</a>.</li>
  <li>Затем разместить словарные статьи, где каждый заголовок должен начинаться с новой строки, а относящийся к нему перевод&thinsp;/&thinsp;толкование со следующей новой строки со знаком пробела или табуляции в начале.<br><br>
<div class="CodeBox_li">
<p class="CodeBoxHead">Пример содержимого простого словаря</p>
<div class="Code"><pre>door
	дверь; дверца; створка; дверка
doorbell
	дверной звонок
doorman
	швейцар</pre></div></div><br>
</li>
  <li>Сохранить файл с расширением <span class="code_names">*.dsl</span>.</li>
  <li>Откомпилировать полученный DSL словарь в формат LSD при помощи утилиты DSL Compiler, входящей в комплект программы ABBYY Lingvo. При этом проследить, чтобы в окне утилиты была отмечена галочка <abbr title="Автоматически добавлять разметку, необходимую для поиска по содержимому карточек словаря">Create dictionary ready for indexing</abbr>.</li>
</ol>
<p>Созданный таким способом LSD словарь можно подключать к программе Lingvo, а исходный DSL&nbsp;&mdash; к программе GoldenDict, или любой другой, умеющей работать с DSL напрямую, без дополнительной конвертации.</p>


<span class=anchor><a name="cool"></a>
<h2>Форматированный словарь DSL</h2></span>
<p>Кроме простых словарей, DSL также позволяет создавать словари с развитой внутренней структурой и оформлением. К тексту такого словаря могут быть применены различные способы выделения: начертанием, цветом, отступами абзацев. Условные сокращения могут содержать интерактивные расшифровки своих значений. Словарные статьи могут быть поделены на различные зоны, влияющие на отображение элементов или на работу механизма поиска по содержимому. При помощи гиперссылок может быть организован быстрый переход между статьями одного или нескольких словарей, а также на внешние интернет-ресурсы. В состав словаря могут быть включены иллюстрации, аудио и видео материалы.</p>
<p>Эти и другие удобства достигаются путём применения к тексту форматирования&nbsp;&mdash; разметки текста при помощи тэгов. В общих чертах, доступные в DSL средства форматирования значительно улучшают восприятие и эффективность использования словарей. Жаль только, что не удовлетворяют всем основным потребностям словаределания: так, например, при помощи DSL невозможно отобразить таблицу.</p>
<p>Для создания форматированных словарей словаределателю может понадобиться следующий набор технических знаний и навыков:</p>
<ol><li>Знание всех существующих конструкций языка <strong>DSL</strong>&nbsp;&mdash; само собой разумеется.</li>
<li>Знание <strong>языка регулярных выражений</strong>&nbsp;&mdash; необходимо для того, чтобы быть способным обрабатывать словари большого объёма.</li>
<li>Навык или способность работы в <strong>профессиональных текстовых редакторах</strong>. Это программы, обладающие набором специализированных средств для лучшего восприятия текста и автоматизации рутинных задач при его обработке. Именно в таких программах быстрее и удобнее всего производится разметка тэгами. Их основные преимущества (<em>актуальные для словаределания</em>):
	<ul>
	<li>обработка файлов большого объёма (<em>в десятки и сотни мегабайт</em>);</li>
	<li>одновременная обработка множества файлов;</li>
	<li>мощные инструменты поиска и замены текста;</li>
	<li>возможность визуального выделения (подсветки) тэгов при помощи цвета и начертания (<em>функция, значительно облегчающая работу при редактировании и, особенно, вычитке словарей</em>);</li>
	<li>автоподстановка фрагментов текста или конструкций тэгов;</li>
	<li>гибкая настройка вспомогательного инструментария (<em>горячие клавиши, кнопки, переключатели и т.п.</em>);</li>
	<li>средства сбора статистики по тексту.</li>
	</ul>
Оговорка: разметку тэгами можно производить и в таких программах, как Microsoft Word или Блокнот, но это будет долго и неэффективно.</li>
<li>Знание или знакомство с <strong>написанием скриптов</strong> (сценариев на несложных языках программирования). Понадобится для решения задач нетривиальных, узкоспециализированных, когда стандартных возможностей текстовых редакторов не хватает. Нередко подобные задачи ограничиваются рамками одного конкретного словаря. Понимание основ скриптового программирования, пусть даже поверхностное, пригодится и для того, чтобы внятно сформулировать тех-задание, если придётся обратиться за помощью в написании к опытному программисту, произвести элементарные настройки в уже существующих скриптах, или просто разобраться в том, как скрипт работает и как обращаться с параметрами его запуска.</li></ol>
<p>Добавим: перечисленные знания не являются сложными в освоении и, по факту, приобретаются достаточно быстро. К тому же, согласно известному афоризму, «дорогу осилит идущий».</p>


<span class=anchor><a name="tools"></a>
<h2>Рекомендуемые инструменты</h2></span>
<p>Задачи, с которыми сталкивается словаределатель при создании словаря, можно условно разделить на два направления: профильные и базовые. К профильным относятся те, что тесно связаны со структурой и синтаксисом DSL. К остальным&nbsp;&mdash; анализ, сравнение и обработка текстовых массивов, доступ к специфическим данным. Распределим рассматриваемые инструменты по перечисленным типам.</p>
<p>Первая группа&nbsp;&mdash; профильная:</p>

<ul>
  <li><h3>nodereplacer.js</h3>
  <p>Богатый набор инструментов для нужд словаределания, написанный на JavaScript. Управление осуществляется из командной строки. Основное назначение: обработка DSL, анализ DSL, подготовка словарного материала для конвертации в DSL. Некоторые функции: обработка словарных статей (дубликаты, сортировка), обработка словарных заголовков (дубликаты, сортировка, раскрытие скобок), маркировка подвешенных ссылок, поиск/замена при помощи регулярных выражений с учётом специфики DSL, проверка синтаксиса DSL, исправление распространённых ошибок DSL.</p>
  <p><span class="bold">Разработчик</span>: andreyefgs, <a target="_blank" href="https://github.com/lingvoboard/nodereplacer">GitHub</a>
  <br><span class="bold">Требования</span>: Установленное окружение Node.js.
  <br><span class="bold">Преимущества</span>: Специализированная направленность словаределание. Мощность. Высокая скорость обработки. Платформонезависимость.
  <br><span class="bold">Относительные недостатки</span>: Не выявлены.</p>
  </li>

  <li><h3>Набор скриптов на Perl</h3>
  <p>Богатый набор инструментов для нужд словаределания, написанный на Perl. Управление осуществляется из командной строки. Основное назначение: обработка DSL, анализ DSL. Некоторые функции: обработка словарных статей и заголовков (дубликаты, сортировка), маркировка подвешенных ссылок, проверка нумерации разделов в карточке, расстановка ударений, замена тильды на заголовок, поиск/замена при помощи регулярных выражений с учётом специфики DSL, исправление некоторых распространённых ошибок DSL. Эта разработка&nbsp;&mdash; предшествующая <em>nodereplacer.js</em>.</p>
  <p><span class="bold">Разработчик</span>: andreyefgs, <a target="_blank" href="https://www.lingvoboard.ru/forum/viewtopic.php?t=11">www.lingvoboard.ru/forum/</a>
  <br><span class="bold">Требования</span>: Установленное окружение Perl.
  <br><span class="bold">Преимущества</span>: Специализированная направленность словаределание. Мощность. Высокая скорость обработки. Платформонезависимость.
  <br><span class="bold">Относительные недостатки</span>: Существенные не выявлены. Статус разработки: deprecated. Автор более не оказывает поддержки и рекомендует пользоваться своей более новой разработкой <em>nodereplacer.js</em>.</p>
  </li>
</ul>

<p>Далее перечислим инструменты для решения задач базового круга. Группа профессиональных текстовых редакторов и обработчиков:</p>

<ul>
  <li><h3>PowerGREP</h3>
  <p>Программный комплекс для пакетной (массовой) обработки текстовых файлов при помощи регулярных выражений. Справляется с файлами большого размера (в сотни мегабайт). Способен обрабатывать множество файлов одновременно. Предоставляет возможность употреблять регулярные выражения различных диалектов, а также комбинировать диалекты, что особенно удобно для тех, кто только осваивает язык регулярок и ещё путается в особенностях синтаксисов и формулировании своих задач. Варианты применения в словаределании: обработка множества html-файлов при конвертации словарей из сетевых источников.</p>
  <p><span class="bold">Разработчик</span>: Jan Goyvaerts, Just Great Software Co. Ltd., <a target="_blank" href="http://www.powergrep.com/">www.powergrep.com</a>
  <br><span class="bold">Преимущества</span>: Обработка множества файлов. Мощность. Высокая скорость обработки. Лучший (комбинированный) синтаксис регулярных выражений. Лучшее справочное руководство для изучения регулярных выражений (только на английском).
  <br><span class="bold">Относительные недостатки</span>: Встроенный текстовый редактор нефункционален и неудобен. Программа не бесплатна. Только Windows.</p>
  </li>

  <li><h3>EditPad</h3>
  <p>Профессиональный текстовый редактор. Дополнение к PowerGREP от того же разработчика с теми же преимуществами (кроме пакетной обработки), сфокусированное на работе с одиночными файлами. Стараниями словаределателей создана дополнительная подсветка синтаксиса для DSL и организована интеграция с <em>nodereplacer.js</em>.</p>
  <p><span class="bold">Разработчик</span>: Jan Goyvaerts, Just Great Software Co. Ltd., <a target="_blank" href="http://www.editpadpro.com/">www.editpadpro.com</a>
  <br><span class="bold">Преимущества</span>: Дополнительные расширения для работы с DSL. Мощность. Высокая скорость обработки. Лучший (комбинированный) синтаксис регулярных выражений. Лучшее справочное руководство для изучения регулярных выражений (только на английском).
  <br><span class="bold">Относительные недостатки</span>: Программа не бесплатна. Только Windows.</p>
  </li>

  <li><h3>EmEditor</h3>
  <p>Профессиональный текстовый редактор. Из существующих самый, пожалуй, мощный и скоростной. Развитый механизм поиска/замены при помощи регулярных выражений (два движка: Boost.Regex и Onigmo). Редкие возможности поиска/замены (например, изменение регистра найденного совпадения или его части). Настраиваемая схема подсветки синтаксиса для наглядного отображения текста. Развитые средства автоматизации рутинных задач.</p>
  <p><span class="bold">Разработчик</span>: Emurasoft, Inc., <a target="_blank" href="https://www.emeditor.com/">www.emeditor.com</a>
  <br><span class="bold">Преимущества</span>: Мощность. Высокая скорость обработки.
  <br><span class="bold">Относительные недостатки</span>: Ограниченные возможности настройки подсветки синтаксиса. Неповоротливость и медлительность при выполнении некоторых задач. Программа не бесплатна. Только Windows.</p>
  </li>

  <li><h3>AkelPad</h3>
  <p>Профессиональный текстовый редактор. Три независимых механизма поиска/замены при помощи регулярных выражений (свой собственный и на движке JScript). Гибкая и многоплановая настройка элементов рабочего окружения: кнопок, панелей, меню, клавиатурных сочетаний, цветовых схем, подсветок синтаксиса, функций автоподстановки текста и мн. др. Развитые средства автоматизации рутинных задач. Расширение возможностей автоматизации путём подключения дополнительных скриптов. Удобная среда для создания собственных скриптов разного уровня сложности. Стараниями словаределателей на основе AkelPad создана сборка AkelDSL, включающая: инструмент для работы над ошибками DSL, предпросмотр кода DSL, подсветку синтаксиса DSL, дополнительную панель кнопок для работы с DSL и другие инструменты.</p>
  <p><span class="bold">Разработчик</span>: Александр Шенгальц, <a target="_blank" href="http://akelpad.sf.net/">akelpad.sf.net</a>
  <br><span class="bold">Преимущества</span>: Дополнительные расширения для работы с DSL. Лучшие возможности по организации рабочего пространства и расширению функциональности.
  <br><span class="bold">Относительные недостатки</span>: Сложности с обработкой файлов большого размера. Только Windows.</p>
  </li>

  <li><h3>Notepad++</h3>
  <p>Профессиональный текстовый редактор. Развитый механизм поиска/замены при помощи регулярных выражений. Настройка подсветки синтаксиса для наглядного отображения текста. Развитые средства автоматизации рутинных задач. Стараниями словаределателей создана дополнительная панель кнопок для работы с DSL.</p>
  <p><span class="bold">Разработчик</span>: Don Ho, <a target="_blank" href="http://notepad-plus-plus.org/">notepad-plus-plus.org</a>
  <br><em>Преимущества и недостатки не выявлялись.</em></p>
  </li>
</ul>

<p>Следующая группа&nbsp;&mdash; инструменты для сравнения текста, поскольку при работе над словарями сравнивать текстовые файлы приходится довольно часто:</p>

<ul>
  <li><h3>WinMerge</h3>
  <p>Один из лучших на сегодняшний день инструментов в данной области.</p>
  <p><span class="bold">Разработчик</span>: Dean P. Grimm, Takashi Sawanaka, <a target="_blank" href="https://winmerge.org/?lang=en">winmerge.org</a> или <a target="_blank" href="https://github.com/WinMerge/winmerge">GitHub</a>
  <br><span class="bold">Преимущества</span>: OpenSource. Удобное представление текста. Широкая настраиваемость.
  <br><span class="bold">Относительные недостатки</span>: Только Windows.</p>
  </li>

  <li><h3>Beyond Compare</h3>
  <p>Один из лучших на сегодняшний день инструментов в данной области.</p>
  <p><span class="bold">Разработчик</span>: Scooter Software, Inc., <a target="_blank" href="http://www.scootersoftware.com/">www.scootersoftware.com</a>
  <br><span class="bold">Преимущества</span>: Многоплатформенность.
  <br><span class="bold">Относительные недостатки</span>: Программа не бесплатна.</p>
  </li>
</ul>

<p>Далее перечислим инструменты быстрого доступа к символам, недоступным с клавиатуры, т.н. карты символов:</p>

<ul>
  <li><h3>BabelMap</h3>
  <p>Один из лучших инструментов в данной области. Поддержка новейшей версии Unicode, исчерпывающая информация о символах.</p>
  <p><span class="bold">Разработчик</span>: Andrew West, <a target="_blank" href="http://www.babelstone.co.uk/Software/BabelMap.html">www.babelstone.co.uk</a>
  <br><span class="bold">Преимущества</span>: Freeware.
  <br><span class="bold">Относительные недостатки</span>: Недостаточно комфортное представление карты символов. Несколько сложно для восприятия организован интерфейс окна программы. Только Windows.</p>
  </li>

  <li><h3>PopChar</h3>
  <p>Один из лучших инструментов в данной области. Наглядное представление карты символов, исчерпывающая информация о символах, развитая система поиска и определения символов.</p>
  <p><span class="bold">Разработчик</span>: Ergonis Software GmbH, <a target="_blank" href="http://www.ergonis.com/products/popcharwin/">www.ergonis.com</a>
  <br><span class="bold">Относительные недостатки</span>: Программа не бесплатна.</p>
  </li>
</ul>

<p>И, наконец, конвертер словарных форматов, среди которых DSL поддерживается и как формат целевой, и как исходный:</p>

<ul>
  <li><h3>PyGlossary</h3>
  <p>Согласно комментарию разработчика, этот инструмент создан для того, чтобы мы могли использовать тексты наших словарей в любой понравившейся нам словарной OpenSource-программе и на любой современной операционной системе или устройстве.</p>
  <p><span class="bold">Разработчик</span>: Saeed Rasooli (aka ilius), <a target="_blank" href="https://github.com/ilius/pyglossary/tree/master">GitHub</a>.
  <br><span class="bold">Требования</span>: Установленное окружение Python 3.9 и выше.
  <br><span class="bold">Преимущества</span>: Freeware, многоплатформенность.
  <br><span class="bold">Относительные недостатки</span>: Не выявлялись.</p>
  </li>
</ul>

<span class=anchor><a name="books"></a>
<h2>Рекомендуемая литература</h2></span>
<ol>
<li><em>Джеффри Фридл</em>. Регулярные выражения. Перевод с английского Е. Матвеева и А. Киселева. 3-е издание. СПб.: Символ-Плюс, 2008, 608 страниц, иллюстрации. Объективно лучшая на сегодняшний день книга о регулярных выражениях на русском языке.</li>
<li><em>Jan Goyvaerts</em>. Справочное руководство к программам PowerGREP, EditPad, RegexBuddy (входит в состав упомянутых программ). Лучшее на сегодняшний день руководство к изучению регулярных выражений на английском языке.</li>
<li><em>niccolo + andreyefgs + ru-board</em>. Руководство по конвертации бумажных словарей в Lingvo. Подробное, пошаговое руководство по созданию DSL словарей из печатных изданий + дополнительные сведения по словаределанию.</li>
</ol>
</div>
<div id="footer">
<p>Справочник по DSL • <a href="changes.html">Версия 1.1</a> • 12.08.2023</p>
<p>Public Domain 2023 yozhic. Свободный контент. Все права открыты и неограничены. Никаких гарантий и ответственности.</p>
</div>
</body>
</html>
